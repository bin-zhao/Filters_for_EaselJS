this.createjs=this.createjs||{};(function(A){"use strict";function GlowFilter(a,b,c,d,e,f,g,h){if(!isNaN(a))this.color=a;if(b!==undefined)this.alpha=b;this._blurFilter=new createjs.BlurFilter(c,d,f);if(e!==undefined)this.strength=e;this.inner=!!g;this.knockout=!!h}var p={get color(){return this._red<<16|this._green<<8|this._blue},set color(value){this._red=value>>16&0xFF;this._green=value>>8&0xFF;this._blue=value&0xFF;return this.color},get blurX(){return this._blurFilter.blurX},set blurX(value){return this._blurFilter.blurX=value},get blurY(){return this._blurFilter.blurY},set blurY(value){return this._blurFilter.blurY=value},get quality(){return this._blurFilter.quality},set quality(value){return this._blurFilter.quality=value}};var B=Object.create(createjs.Filter.prototype);for(var k in B){p[k]=B[k]}GlowFilter.prototype=p;p.constructor=GlowFilter;p._red=255;p._green=0;p._blue=0;p.alpha=1;p.strength=1;p.inner=false;p.knockout=false;p._blurFilter=null;p.getBounds=function(){if(this.inner){return null}else{return this._blurFilter.getBounds()}};p.applyFilter=function(a,x,y,b,c,d,e,f){if((this.alpha<=0||this.strength<=0)&&!this.knockout){return true}d=d||a;if(e===undefined)e=x;if(f===undefined)f=y;var g=d.getImageData(e,f,b,c);var h=g.data;var k=document.createElement("canvas");k.width=b;k.height=c;var m=k.getContext("2d");var n=m.getImageData(0,0,b,c);var o=n.data;var p=this.inner;var q=this._red;var r=this._green;var s=this._blue;for(var i=0,l=o.length;i<l;i+=4){var t=i+3;var u=h[t];if(!p){if(u!==0){o[i]=q;o[i+1]=r;o[i+2]=s;o[t]=u}}else{if(u!==255){o[i]=q;o[i+1]=r;o[i+2]=s;o[t]=255-u}}}m.putImageData(n,0,0);var v=this.strength;if(0<v){this._blurFilter.applyFilter(m,0,0,b,c);if(255<v)v=255;for(var j=1;j<v;j++){m.drawImage(k,0,0)}}var w=this.alpha;if(w<0)w=0;else if(1<w)w=1;var z;if(this.knockout){if(p)z="source-in";else z="source-out"}else{if(p)z="source-atop";else z="destination-over"}d.save();d.setTransform(1,0,0,1,0,0);d.globalAlpha=w;d.globalCompositeOperation=z;d.drawImage(k,e,f);d.restore();return true};p.clone=function(){var f=this._blurFilter;return new createjs.GlowFilter(this.color,this.alpha,f.blurX,f.blurY,this.strength,f.quality,this.inner,this.knockout)};p.toString=function(){return"[GlowFilter]"};createjs.GlowFilter=GlowFilter}(window));